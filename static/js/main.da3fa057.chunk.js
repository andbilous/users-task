(this["webpackJsonpusers-task"]=this["webpackJsonpusers-task"]||[]).push([[0],{124:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),l=t.n(c),s=(t(97),t(98),t(44)),o=t(14),i=t.n(o),u=t(25),E=t(39),p=t(17),m=t(35),d=t(171),f=t(172),S=t(176),h=t(173),g=t(174),T=t(127),U=t(154),v=t(159),b=t(158),w=t(156),_=t(157),R=t(160),A=t(67),C=t.n(A);function j(e){var a=e.users,t=(e.currentUserData,e.setUserId);return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{size:"small"},r.a.createElement(w.a,null,r.a.createElement(_.a,null,r.a.createElement(b.a,null,"#"),r.a.createElement(b.a,null,"\u0406\u043c'\u044f"),r.a.createElement(b.a,null,"\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"),r.a.createElement(b.a,null,"\u0427\u0430\u0441 \u043e\u0441\u0442\u0430\u043d\u043d\u044c\u043e\u0433\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"),r.a.createElement(b.a,null,"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"))),r.a.createElement(v.a,null,a.map((function(e,a){return r.a.createElement(_.a,{key:a},r.a.createElement(b.a,null,a+1),r.a.createElement(b.a,null,e.name),r.a.createElement(b.a,null,e.from),r.a.createElement(b.a,null,(n=e.lastMessageTime,C()(n).format("YYYY-MM-DD, HH:mm:ss"))),r.a.createElement(b.a,null,r.a.createElement(R.a,{color:"primary",onClick:function(){t(e.id)}},"\u0417\u0430\u043a\u0430\u0437")));var n})))))}var y=t(4),D=t(163),O=t(164),x=t(45),k=t(165),F=t(166),H=t(48),I=t.n(H),L=t(49),G=t.n(L),B=t(179),N=t(161),z=t(162),M=t(68),P=t.n(M),W=r.a.createElement("div",null,r.a.createElement(B.a,{button:!0},r.a.createElement(N.a,null,r.a.createElement(P.a,null)),r.a.createElement(z.a,{primary:"Users"}))),Y=r.a.createElement("div",null),X=function(e){var a=e.classes,t=e.open,n=e.handleDrawerOpen;return r.a.createElement(D.a,{position:"absolute",className:Object(y.a)(a.appBar,t&&a.appBarShift)},r.a.createElement(O.a,{className:a.toolbar},r.a.createElement(k.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:n,className:Object(y.a)(a.menuButton,t&&a.menuButtonHidden)},r.a.createElement(I.a,null)),r.a.createElement(x.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},"Users"),r.a.createElement(k.a,{color:"inherit"},r.a.createElement(F.a,{badgeContent:4,color:"secondary"},r.a.createElement(G.a,null)))))},q=t(175),J=t(168),$=t(167),K=t(69),Q=t.n(K),V=function(e){var a=e.classes,t=e.open,n=e.handleDrawerClose;return r.a.createElement(q.a,{variant:"permanent",classes:{paper:Object(y.a)(a.drawerPaper,!t&&a.drawerPaperClose)},open:t},r.a.createElement("div",{className:a.toolbarIcon},r.a.createElement(k.a,{onClick:n},r.a.createElement(Q.a,null))),r.a.createElement($.a,null),r.a.createElement(J.a,null,W),r.a.createElement($.a,null),r.a.createElement(J.a,null,Y))},Z={FETCH_USERS_START:"FETCH_USERS_START",FETCH_USERS_SUCCESS:"FETCH_USERS_SUCCESS",FETCH_USERS_FAILURE:"FETCH_USERS_FAILURE",GET_USERDATA_START:"GET_USERDATA_START",GET_USERDATA_SUCCESS:"GET_USERDATA_SUCCESS",GET_USERDATA_FAILURE:"GET_USERDATA_FAILURE"},ee=t(51),ae=t.n(ee),te="https://api.leeloo.ai/api/v1",ne="cmpc3hcajyh3e5ksz6xho9t77flp4pesa300js9y8w9v6xptzj0vlk0halesk27hgqslukjxpepzkmaz6jpfj8zw0x5fwsajezvb",re={getUsers:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("".concat(te,"/accounts?limit=50&offset=0"),{headers:{"X-Leeloo-AuthToken":ne,"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUserData:function(){var e=Object(u.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("".concat(te,"/accounts/").concat(a,"?include=contactedUsers,orders"),{headers:{"X-Leeloo-AuthToken":ne,"Content-Type":"application/json"}}).then((function(e){return e.data})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},ce=function(){return{type:Z.FETCH_USERS_START}},le=function(e){return{type:Z.FETCH_USERS_SUCCESS,payload:e}},se=function(e){return{type:Z.FETCH_USERS_FAILURE,payload:e}},oe=function(){return{type:Z.GET_USERDATA_START}},ie=function(e){return{type:Z.GET_USERDATA_SUCCESS,payload:e}},ue=function(e){return{type:Z.GET_USERDATA_FAILURE,payload:e}},Ee=t(70),pe=(t(123),t(169)),me=t(170),de=function(e){e.classes;var a=e.open,t=(e.handleDrawerOpen,e.toggle,e.userDetails),n=e.closeModal;return console.log("User Details",t),t.orders?r.a.createElement(pe.a,null,r.a.createElement(me.a,null,r.a.createElement(Ee.a,{isOpen:a,requestClose:n},t.orders.length?r.a.createElement(U.a,{size:"small"},r.a.createElement(w.a,null,r.a.createElement(_.a,null,r.a.createElement(b.a,null,"ID"),r.a.createElement(b.a,null,"\u0426\u0456\u043d\u0430"),r.a.createElement(b.a,null,"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement(b.a,null,"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438"),r.a.createElement(b.a,null,"\u0421\u0442\u0430\u0442\u0443\u0441"))),r.a.createElement(v.a,null,t.orders.map((function(e){return r.a.createElement(_.a,null,r.a.createElement(b.a,null,e.id),r.a.createElement(b.a,null,e.price),r.a.createElement(b.a,null,e.currency),r.a.createElement(b.a,null,e.currency),r.a.createElement(b.a,null,e.status),r.a.createElement(b.a,null,"4"),r.a.createElement(b.a,null))})))):r.a.createElement("h1",null,"No orders")))):r.a.createElement("div",null)},fe=Object(d.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(E.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Se=Object(m.b)((function(e){return{users:e.usersReducer.users,userData:e.usersReducer.userData}}),(function(e){return{fetchUsers:function(){return e(function(){var e=Object(u.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(ce()),e.prev=1,e.next=4,re.getUsers();case 4:(t=e.sent).data?a(le(t.data)):a(se("error")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(se("error"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}())},getUserData:function(a){return e(function(e){return function(){var a=Object(u.a)(i.a.mark((function a(t){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(oe()),a.prev=1,a.next=4,re.getUserData(e);case 4:n=a.sent,console.log(n),n.data?t(ie(n.included)):t(ue("error")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t(ue("error"));case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(a))}}}))((function(e){Object(n.useEffect)(Object(u.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.fetchUsers();case 1:case"end":return a.stop()}}),a)}))),[]);var a=fe(),t=Object(n.useState)(!0),c=Object(s.a)(t,2),l=c[0],o=c[1],E=Object(n.useState)(!1),p=Object(s.a)(E,2),m=p[0],d=p[1],U=Object(n.useState)({}),v=Object(s.a)(U,2);v[0],v[1];return r.a.createElement("div",{className:a.root},r.a.createElement(f.a,null),r.a.createElement(X,{classes:a,open:l,handleDrawerOpen:function(){o(!0)}}),r.a.createElement(V,{classes:a,open:l,handleDrawerClose:function(){o(!1)}}),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),r.a.createElement(h.a,{maxWidth:"lg",className:a.container},r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:12},r.a.createElement(de,{closeModal:function(){return d(!1)},userDetails:e.userData,open:m,toggle:function(){return o(!l)}}),r.a.createElement(T.a,{className:a.paper},r.a.createElement(j,{users:e.users,setUserId:function(a){e.getUserData(a),d(!0)}})))),r.a.createElement(S.a,{pt:4}))))})),he=t(27),ge=t(71),Te=t.n(ge),Ue=t(72),ve={users:[],isLoading:!1,userData:{}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case Z.FETCH_USERS_START:case Z.GET_USERDATA_START:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});case Z.GET_USERDATA_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,userData:n});case Z.FETCH_USERS_SUCCESS:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!1,users:n});case Z.GET_USERDATA_FAILURE:case Z.FETCH_USERS_FAILURE:return Object(p.a)(Object(p.a)({},e),{},{isLoading:!0});default:return e}},we=Object(he.c)({usersReducer:be}),_e=[Ue.a,Te.a],Re=Object(he.d)(we,he.a.apply(void 0,_e));var Ae=function(){return r.a.createElement(m.a,{store:Re},r.a.createElement("div",{className:"App"},r.a.createElement(Se,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},92:function(e,a,t){e.exports=t(124)},97:function(e,a,t){},98:function(e,a,t){}},[[92,1,2]]]);